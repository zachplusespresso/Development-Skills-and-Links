!function(e){function t(){}function n(e,t){return 0==B.call(e).indexOf("[object "+t)}function r(e,t){var n;return e.path=a(e.path||e.location||""),t&&(n=e.main||"./main",i(n)||(n="./"+n),e.main=c(n,e.name+"/")),e.config=e.config,e}function i(e){return"."==e.charAt(0)}function o(e){return Z.test(e)}function u(e,t){return a(e)+"/"+t}function a(e){return e&&"/"==e.charAt(e.length-1)?e.substr(0,e.length-1):e}function c(e,t){var n,r,o,u,a;return n=1,r=e,i(r)&&(u=!0,r=r.replace(G,function(e,t,r,i){return r&&n++,i||""})),u?(o=t.split("/"),a=o.length-n,0>a?e:(o.splice(a,n),o.concat(r||[]).join("/"))):r}function s(e){var t=e.indexOf("!");return{resourceId:e.substr(t+1),pluginId:t>=0&&e.substr(0,t)}}function f(){}function p(e,t){f.prototype=e||z;var n=new f;f.prototype=z;for(var r in t)n[r]=t[r];return n}function l(){function e(e,t,n){i.push([e,t,n])}function n(e,t){for(var n,r,o=0;n=i[o++];)r=n[e],r&&r(t)}var r,i,o;r=this,i=[],o=function(r,u){e=r?function(e){e&&e(u)}:function(e,t){t&&t(u)},o=t,n(r?0:1,u),n=t,i=E},this.then=function(t,n,i){return e(t,n,i),r},this.resolve=function(e){r.resolved=e,o(!0,e)},this.reject=function(e){r.rejected=e,o(!1,e)},this.progress=function(e){n(2,e)}}function d(e){return e instanceof l||e instanceof m}function g(e,t,n,r){return d(e)?e.then(t,n,r):t(e)}function h(e,t,n){var r;return function(){return--e>=0&&t&&(r=t.apply(E,arguments)),0==e&&n&&n(r),r}}function v(){var e,t,r;return I="",e=[].slice.call(arguments),n(e[0],"Object")&&(r=e.shift(),t=x(r)),new m(e[0],e[1],e[2],t)}function x(e,t,n){var r,i;return I="",e&&(P.setApi(e),w=P.config(e),"preloads"in e&&(r=new m(e.preloads,E,n,_,!0),P.nextTurn(function(){_=r})),i=e.main)?new m(i,t,n):void 0}function m(e,t,n,r,i){var o,u;u=P.createContext(w,E,[].concat(e),i),this.then=this.then=o=function(e,t){return g(u,function(t){e&&e.apply(E,t)},function(e){if(!t)throw e;t(e)}),this},this.next=function(e,t,n){return new m(e,t,n,u)},this.config=x,(t||n)&&o(t,n),P.nextTurn(function(){g(i||_,function(){g(r,function(){P.getDeps(u)},n)})})}function y(e){var t,n,r;if(t=e.id,t==E&&(D!==E?D={ex:"Multiple anonymous defines encountered"}:(t=P.getCurrentDefName())||(D=e)),t!=E){if(n=$[t],t in $||(r=P.resolvePathInfo(t,w),n=P.createResourceDef(r.config,t),$[t]=n),!d(n))throw new Error("duplicate define: "+t);n.useNet=!1,P.defineResource(n,e)}}function j(){var e=P.fixArgs(arguments);y(e)}var I,w,A,b,E,D,C,P,R="0.8.11",M="curl",S="define",N="data-curl-run",U=e.document,T=U&&(U.head||U.getElementsByTagName("head")[0]),F=T&&T.getElementsByTagName("base")[0]||null,L={},k={},q={},O="addEventListener"in e?{}:{loaded:1,complete:1},z={},B=z.toString,$={},J={},_=!1,Q=/\?|\.js\b/,Z=/^\/|^[^:]+:\/\/|^[A-Za-z]:[\\/]/,G=/(\.)(\.?)(?:$|\/([^\.\/]+.*)?)/g,H=/\/\*[\s\S]*?\*\/|\/\/.*?[\n\r]/g,K=/require\s*\(\s*(["'])(.*?[^\\])\1\s*\)|[^\\]?(["'])/g,V=/\s*,\s*/;P={toAbsId:function(e,t,n){var r,o,a;return r=c(e,t),i(r)?r:(a=s(r),o=a.pluginId,r=o||a.resourceId,r in n.pathMap&&(r=n.pathMap[r].main||r),o&&(o.indexOf("/")<0&&!(o in n.pathMap)&&(r=u(n.pluginPath,o)),r=r+"!"+a.resourceId),r)},createContext:function(e,t,r,i){function o(t,n){var r,i,u;return r=P.toAbsId(t,c.id,e),n?(i=s(r),i.pluginId?(u=$[i.pluginId],i.resourceId="normalize"in u?u.normalize(i.resourceId,o,c.config)||"":o(i.resourceId),i.pluginId+"!"+i.resourceId):r):r}function u(t){return P.resolvePathInfo(o(t,!0),e).url}function a(t,r,u){var a,s,f,p;if(a=r&&function(){r.apply(E,arguments[0])},n(t,"String")){if(a)throw new Error("require(id, callback) not allowed");if(s=o(t,!0),f=$[s],!(s in $))throw new Error("Module not resolved: "+s);return p=d(f)&&f.exports,p||f}g(P.getDeps(P.createContext(e,c.id,t,i)),a,u)}var c;return c=new l,c.id=t||"",c.isPreload=i,c.depNames=r,c.config=e,c.require=a,a.toUrl=u,c.toAbsId=o,c},createResourceDef:function(e,t,n){var r,i,o;return r=P.createContext(e,t,E,n),i=r.resolve,o=h(1,function(e){r.deps=e;try{return P.executeDefFunc(r)}catch(t){r.reject(t)}}),r.resolve=function(e){g(n||_,function(){i($[r.id]=J[r.url]=o(e))})},r.exportsReady=function(e){g(n||_,function(){r.exports&&(o(e),r.progress(k))})},r},createPluginDef:function(e,t,n,r){var i;return i=P.createContext(e,n,E,r)},getCjsRequire:function(e){return e.require},getCjsExports:function(e){return e.exports||(e.exports={})},getCjsModule:function(e){var t=e.module;return t||(t=e.module={id:e.id,uri:P.getDefUrl(e),exports:P.getCjsExports(e),config:function(){return e.config}},t.exports=t.exports),t},getDefUrl:function(e){return e.url||(e.url=P.checkToAddJsExt(e.require.toUrl(e.id),e.config))},setApi:function(t){var r,i,o,u,a,c;if(r=M,i=S,o=u=e,a=" already exists",t&&(c=t.overwriteApi||t.overwriteApi,r=t.apiName||t.apiName||r,o=t.apiContext||t.apiContext||o,i=t.defineName||t.defineName||i,u=t.defineContext||t.defineContext||u,A&&n(A,"Function")&&(e[M]=A),A=null,b&&n(b,"Function")&&(e[S]=b),b=null,!c)){if(o[r]&&o[r]!=v)throw new Error(r+a);if(u[i]&&u[i]!=j)throw new Error(i+a)}o[r]=v,u[i]=j},config:function(e){function t(e,t){var i,o,f,l,d,g;for(var h in e)f=e[h],n(f,"String")&&(f={path:e[h]}),f.name=f.name||h,d=u,l=s(a(f.name)),i=l.resourceId,o=l.pluginId,o&&(d=c[o],d||(d=c[o]=p(u),d.pathMap=p(u.pathMap),d.pathList=[]),delete e[h]),g=r(f,t),g.config&&(g.config=p(u,g.config)),g.specificity=i.split("/").length,i?(d.pathMap[i]=g,d.pathList.push(i)):d.baseUrl=P.resolveUrl(f.path,u)}function i(e){var t=e.pathMap;e.pathRx=new RegExp("^("+e.pathList.sort(function(e,n){return t[n].specificity-t[e].specificity}).join("|").replace(/\/|\./g,"\\$&")+")(?=\\/|$)"),delete e.pathList}var o,u,c,f;"baseUrl"in e&&(e.baseUrl=e.baseUrl),"main"in e&&(e.main=e.main),"preloads"in e&&(e.preloads=e.preloads),"pluginPath"in e&&(e.pluginPath=e.pluginPath),("dontAddFileExt"in e||e.dontAddFileExt)&&(e.dontAddFileExt=new RegExp(e.dontAddFileExt||e.dontAddFileExt)),o=w,u=p(o,e),u.pathMap=p(o.pathMap),c=e.plugins||{},u.plugins=p(o.plugins),u.paths=p(o.paths,e.paths),u.packages=p(o.packages,e.packages),u.pathList=[],t(e.packages,!0),t(e.paths,!1);for(f in c){var l=P.toAbsId(f+"!","",u);u.plugins[l.substr(0,l.length-1)]=c[f]}c=u.plugins;for(f in c){c[f]=p(u,c[f]);var d=c[f].pathList;d&&(c[f].pathList=d.concat(u.pathList),i(c[f]))}for(f in o.pathMap)u.pathMap.hasOwnProperty(f)||u.pathList.push(f);return i(u),u},resolvePathInfo:function(e,t){var n,r,i,u;return n=t.pathMap,i=o(e)?e:e.replace(t.pathRx,function(e){return r=n[e]||{},u=r.config,r.path||""}),{config:u||w,url:P.resolveUrl(i,t)}},resolveUrl:function(e,t){var n=t.baseUrl;return n&&!o(e)?u(n,e):e},checkToAddJsExt:function(e,t){return e+((t||w).dontAddFileExt.test(e)?"":".js")},loadScript:function(t,n,r){function i(r){r=r||e.event,("load"==r.type||O[u.readyState])&&(delete q[t.id],u.onload=u.onreadystatechange=u.onerror="",n())}function o(){r(new Error("Syntax or http error: "+t.url))}var u=U.createElement("script");return u.onload=u.onreadystatechange=i,u.onerror=o,u.type=t.mimetype||"text/javascript",u.charset="utf-8",u.async=!t.order,u.src=t.url,q[t.id]=u,T.insertBefore(u,F),u},extractCjsDeps:function(e){var t,n,r=[];return t="string"==typeof e?e:e.toSource?e.toSource():e.toString(),t.replace(H,"").replace(K,function(e,t,i,o){return o?n=n==o?E:n:n||r.push(i),""}),r},fixArgs:function(e){var t,r,i,o,u,a;return u=e.length,i=e[u-1],o=n(i,"Function")?i.length:-1,2==u?n(e[0],"Array")?r=e[0]:t=e[0]:3==u&&(t=e[0],r=e[1]),!r&&o>0&&(a=!0,r=["require","exports","module"].slice(0,o).concat(P.extractCjsDeps(i))),{id:t,deps:r||[],res:o>=0?i:function(){return i},cjs:a}},executeDefFunc:function(e){var t,n;return n=e.cjs?e.exports:E,t=e.res.apply(n,e.deps),t===E&&e.exports&&(t=e.module?e.exports=e.module.exports:e.exports),t},defineResource:function(e,t){e.res=t.res,e.cjs=t.cjs,e.depNames=t.deps,P.getDeps(e)},getDeps:function(e){function t(e,t,n){a[t]=e,n&&f(e,t)}function n(t,n){var r,i,o,u;r=h(1,function(e){i(e),p(e,n)}),i=h(1,function(e){f(e,n)}),o=P.fetchDep(t,e),u=d(o)&&o.exports,u&&i(u),g(o,r,e.reject,e.exports&&function(e){o.exports&&(e==L?i(o.exports):e==k&&r(o.exports))})}function r(){e.resolve(a)}function i(){e.exportsReady&&e.exportsReady(a)}var o,u,a,c,s,f,p;for(a=[],u=e.depNames,c=u.length,0==u.length&&r(),f=h(c,t,i),p=h(c,t,r),o=0;c>o;o++)s=u[o],s in C?(p(C[s](e),o,!0),e.exports&&e.progress(L)):s?n(s,o):p(E,o,!0);return e},fetchResDef:function(e){return P.getDefUrl(e),P.loadScript(e,function(){var t=D;D=E,e.useNet!==!1&&(!t||t.ex?e.reject(new Error(t&&t.ex||"define() missing or duplicated: "+e.url)):P.defineResource(e,t))},e.reject),e},fetchDep:function(e,t){var n,r,i,o,u,a,c,f,p,d,h,v;return n=t.toAbsId,r=t.isPreload,i=t.config||w,u=n(e),u in $?a=u:(o=s(u),f=o.resourceId,a=o.pluginId||f,p=P.resolvePathInfo(a,i)),u in $||(v=P.resolvePathInfo(f,i).config,o.pluginId?c=a:(c=v.moduleLoader||v.moduleLoader||v.loader||v.loader,c&&(f=a,a=c,p=P.resolvePathInfo(c,i)))),a in $?d=$[a]:p.url in J?d=$[a]=J[p.url]:(d=P.createResourceDef(v,a,r),d.url=P.checkToAddJsExt(p.url,p.config),$[a]=J[p.url]=d,P.fetchResDef(d)),a==c&&(o.pluginId&&i.plugins[o.pluginId]&&(v=i.plugins[o.pluginId]),h=new l,g(d,function(e){var t,i,o;if(o=e.dynamic,f="normalize"in e?e.normalize(f,n,d.config)||"":n(f),i=c+"!"+f,t=$[i],!(i in $)){t=P.createPluginDef(v,i,f,r),o||($[i]=t);var u=function(e){o||($[i]=e),t.resolve(e)};u.resolve=u,u.reject=u.error=t.reject,e.load(f,t.require,u,v)}h!=t&&g(t,h.resolve,h.reject,h.progress)},h.reject)),h||d},getCurrentDefName:function(){var t;if(!n(e.opera,"Opera"))for(var r in q)if("interactive"==q[r].readyState){t=r;break}return t},findScript:function(e){var t,n,r=0;for(t=U&&(U.scripts||U.getElementsByTagName("script"));t&&(n=t[r++]);)if(e(n))return n},extractDataAttrConfig:function(){var e,t="";return e=P.findScript(function(e){var n;return n=e.getAttribute(N),n&&(t=n),n}),e&&e.setAttribute(N,""),t},bootScript:function(){function e(){P.loadScript({url:r.shift()},t,t)}function t(){I&&(r.length?(P.nextTurn(n),e()):n("run.js script did not run."))}function n(e){throw new Error(e||"Primary run.js failed. Trying fallback.")}var r=I.split(V);r.length&&e()},nextTurn:function(e){setTimeout(e,0)}},C={require:P.getCjsRequire,exports:P.getCjsExports,module:P.getCjsModule},v.version=R,v.config=x,j.amd={plugins:!0,jQuery:!0,curl:R},w={baseUrl:"",pluginPath:"curl/plugin",dontAddFileExt:Q,paths:{},packages:{},plugins:{},pathMap:{},pathRx:/$^/},A=e[M],b=e[S],A&&n(A,"Object")?(e[M]=E,x(A)):P.setApi(),I=P.extractDataAttrConfig(),I&&P.nextTurn(P.bootScript),$[M]=v,$["curl/_privileged"]={core:P,cache:$,config:function(){return w},_define:y,_curl:v,Promise:l}}(this.window||"undefined"!=typeof global&&global||this);
//# sourceMappingURL=../../curl/src/curl.js.map